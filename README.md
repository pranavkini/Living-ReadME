# ü§ñ Repo RAG Assistant

## Project Overview
The Repo RAG Assistant is a command-line tool designed to help developers interact with their code repositories using natural language. It leverages Retrieval Augmented Generation (RAG) by indexing repository files into a vector database (ChromaDB) and then using Google Gemini's large language models to answer questions or generate documentation based on the indexed content. This allows for quick insights into codebase structure, functionality, and automated documentation generation.

## Key Features
*   **Code Indexing**: Scans and indexes Python files (`.py`) in the repository into a ChromaDB vector store.
*   **Natural Language Querying**: Ask questions about your codebase in plain English and get answers generated by Gemini, grounded in your repository's content.
*   **README Generation**: Automatically generates or updates a `README.md` file for the repository, summarizing its purpose, features, and usage, based on the code context.
*   **Google Gemini Integration**: Utilizes Gemini API for generating embeddings and powerful language model responses.
*   **Persistent Storage**: Uses ChromaDB for persistent storage of code embeddings, avoiding re-indexing on every run.

## Installation
1.  **Clone the Repository**:
    ```bash
    git clone <repository_url>
    cd repo-rag-assistant # or your project directory name
    ```
2.  **Set up Virtual Environment (Recommended)**:
    ```bash
    python -m venv venv
    source venv/bin/activate # On Windows use `venv\Scripts\activate`
    ```
3.  **Install Dependencies**:
    ```bash
    pip install -r requirements.txt # (assuming a requirements.txt exists with click, chromadb, google-generativeai, python-dotenv)
    ```
    *(If `requirements.txt` is not present, you'll need to install `click`, `chromadb`, `google-generativeai` manually.)*
    ```bash
    pip install click chromadb google-generativeai
    ```
4.  **Configure API Key**:
    Obtain a Google Gemini API key from the [Google AI Studio](https://aistudio.google.com/app/apikey).
    Create a `.env` file in the root of your project or set an environment variable named `GEMINI_API_KEY` with your key:
    ```
    # .env
    GEMINI_API_KEY="YOUR_GEMINI_API_KEY"
    ```

## Usage Examples

### 1. Index Repository Files
First, index your repository's Python files into ChromaDB. This creates or updates the `chroma` directory.
```bash
python cli.py index
```

### 2. Query the Repository
Ask a question about your code. The system will retrieve relevant code snippets and use Gemini to formulate an answer.
```bash
python cli.py query "How does the RAGPipeline work?"
```
Example Output:
```
‚ùì Question: How does the RAGPipeline work?

üí° Answer:
The `RAGPipeline` class is initialized with an `Embedder` instance and an optional `persist_directory`. It sets up a `PersistentClient` for ChromaDB and gets or creates a collection named "repo_docs".
When `query` is called with a question, it first uses the `embedder` to generate an embedding for the question. This embedding is then used to query the ChromaDB collection to retrieve the `n_results` (default 3) most relevant document chunks. These retrieved document chunks are then concatenated and passed, along with the original question, to the `embedder`'s `llm_answer` method to generate a natural language answer using Gemini.
```

### 3. Generate or Update README.md
Automatically generate a `README.md` for your project based on the indexed code context.
```bash
python cli.py generate-readme
```
This command will overwrite the existing `README.md` or create a new one.

## Tech Stack
*   **Python**: The core programming language.
*   **Click**: For building the command-line interface.
*   **ChromaDB**: The vector database used for storing and retrieving code embeddings.
*   **Google Gemini API**: Used for generating text embeddings and providing large language model capabilities (text generation).

## Contributing
Contributions are welcome! If you have suggestions for improvements or new features, please feel free to open an issue or submit a pull request.

## License
This project is open-sourced under the MIT License. See the `LICENSE` file for more details (if available).
```